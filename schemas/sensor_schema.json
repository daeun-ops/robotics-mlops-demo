{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/robotics/sensor_schema.json",
  "title": "Robotics Telemetry Payload",
  "type": "object",
  "required": ["robot_id", "ts", "features"],
  "properties": {
    "robot_id": { "type": "string", "minLength": 1 },
    "ts": { "type": "string", "format": "date-time" },
    "features": {
      "type": "array",
      "minItems": 4,
      "maxItems": 4,
      "items": { "type": "number" },
      "description": "모델 입력 벡터 예: [acc_mean, gyro_mean, wheel_vel, temp]"
    },
    "imu": {
      "type": "object",
      "properties": {
        "ax": { "type": "number" }, "ay": { "type": "number" }, "az": { "type": "number" },
        "gx": { "type": "number" }, "gy": { "type": "number" }, "gz": { "type": "number" }
      },
      "additionalProperties": false
    },
    "pose": {
      "type": "object",
      "properties": {
        "x": { "type": "number" }, "y": { "type": "number" }, "theta": { "type": "number" }
      },
      "additionalProperties": false
    },
    "meta": {
      "type": "object",
      "properties": {
        "fw": { "type": "string" },
        "seq": { "type": "integer", "minimum": 0 }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "robot_id": "rbt-001",
      "ts": "2025-10-19T12:34:56Z",
      "features": [0.12, 0.03, 1.85, 33.2],
      "imu": { "ax": 0.1, "ay": 0.0, "az": 9.8, "gx": 0.0, "gy": 0.0, "gz": 0.01 },
      "pose": { "x": 1.2, "y": -0.4, "theta": 0.05 },
      "meta": { "fw": "1.3.7", "seq": 124 }
    }
  ]
}
